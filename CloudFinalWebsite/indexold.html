<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>IoT Cloud Analytics Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="header">
    <h1>IoT Cloud Analytics-as-a-Service</h1>
    <p class="subtitle">
      Role-based visualizations for sports coaches and healthcare clinicians.
    </p>
  </header>

  <main class="main">
    <!-- LEFT COLUMN: FORMS -->
    <section class="column column-left">
      <!-- Filter / Notes Form -->
      <section class="card">
        <h2>Filters & Notes</h2>
        <form id="input-form">
          <div class="form-group">
            <label>Role</label>
            <div class="radio-group">
              <label>
                <input type="radio" name="role" value="coach" checked />
                Coach
              </label>
              <label>
                <input type="radio" name="role" value="clinician" />
                Clinician
              </label>
            </div>
          </div>

          <div class="form-group">
            <label for="subjectId">Player / Patient ID</label>
            <input
              type="text"
              id="subjectId"
              name="subjectId"
              required
              placeholder="e.g., P123 or PT45"
            />
          </div>

          <div class="form-group">
            <label for="range">Date Range</label>
            <select id="range" name="range">
              <option value="7d">Last 7 days</option>
              <option value="30d">Last 30 days</option>
              <option value="custom">Custom (handled in Grafana)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="note">Notes (optional)</label>
            <textarea
              id="note"
              name="note"
              rows="4"
              placeholder="Enter coach/clinician notes here..."
            ></textarea>
          </div>

          <button type="submit" class="btn">Save Filters & Notes</button>
        </form>
      </section>

      <!-- Upload Form -->
      <section class="card">
        <h2>Upload Data</h2>
        <form id="upload-form">
          <div class="form-group">
            <label for="uploadSubjectId">Player / Patient ID</label>
            <input
              type="text"
              id="uploadSubjectId"
              name="uploadSubjectId"
              required
              placeholder="e.g., P123 or PT45"
            />
          </div>

          <div class="form-group">
            <label for="csvFile">CSV File</label>
            <input
              type="file"
              id="csvFile"
              name="csvFile"
              accept=".csv"
              required
            />
          </div>

          <button type="submit" class="btn">Upload CSV</button>
        </form>
      </section>

      <!-- Status Area -->
      <section class="card">
        <h2>Status</h2>
        <pre id="status" class="status"></pre>
      </section>
    </section>

    <!-- RIGHT COLUMN: VISUALIZATIONS -->
    <section class="column column-right">
      <section class="card">
        <h2>Sports Workload Dashboard</h2>
        <!-- src is the Grafana panel URL -->
        <iframe
            src="https://cwill22.grafana.net/d-solo/cwmvdlv/infinity1?orgId=1&from=1764789739961&to=1764811339961&timezone=browser&panelId=panel-2&__feature.dashboardSceneSolo=true"
            width="450"
            height="200"
            frameborder="0">
        </iframe>

      </section>

      <section class="card">
        <h2>Healthcare Activity Dashboard</h2>
        <!-- src is the Grafana panel URL -->
        <iframe
            src="https://cwill22.grafana.net/d-solo/cwmvdlv/infinity1?orgId=1&from=1764789739961&to=1764811339961&timezone=browser&panelId=panel-1&__feature.dashboardSceneSolo=true"
            width="450"
            height="200"
            frameborder="0">
        </iframe>

      </section>
    </section>
  </main>

  <footer class="footer">
    <p>Demo environment for AWS IoT Cloud Analytics project.</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
